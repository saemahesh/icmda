<p class="header">Event Registration Users Details</p>

<div class="row" style="padding-left: 1%;padding-top: 1%;padding-bottom: 1%;">
  <form style="display: contents" [formGroup]="formControl">
    <div class="col">
      <label>Art Category</label><br>
      <input class="input" placeholder="Search Art Music" formControlName="artCat" type="text" />
    </div>
    <div class="col">
      <label>Art Form</label><br>
      <input class="input" placeholder="Search Art Form" formControlName="artForm" type="text" />
    </div>
    <div class="col">
      <label>Competional Category</label><br>
      <input class="input" placeholder="Search Competional Level" formControlName="compCat" type="text" />
    </div>
    <div class="col">
      <label>Competional Level</label><br>
      <input class="input" placeholder="Search Competional Level" formControlName="compLevel" type="text" />
    </div>
    <div class="col">
      <label>ID</label><br>
      <input class="input" placeholder="Search ID" formControlName="id" type="text" />
    </div>
    <div class="col">
      <label>Name</label><br>
      <input class="input" placeholder="Search Name" formControlName="name" type="text" />
    </div>
    <div class="col">
      <br>
      <button class="btn btn-primary" (click)="clearFilters()">Reset</button>
    </div>
  </form>
</div>

<table mat-table [dataSource]="dataSource" class="table table-striped">
  <ng-container matColumnDef="sNo">
    <th mat-header-cell *matHeaderCellDef> # </th>
    <td mat-cell *matCellDef="let element"> {{element.sNo}} </td>
  </ng-container>

  <ng-container matColumnDef="id">
    <th mat-header-cell *matHeaderCellDef> ID </th>
    <td mat-cell *matCellDef="let element"> {{element.id}} </td>
  </ng-container>

  <ng-container matColumnDef="name">
    <th mat-header-cell *matHeaderCellDef> Name </th>
    <td mat-cell *matCellDef="let element"> {{element.name}} </td>
  </ng-container>

  <ng-container matColumnDef="age">
    <th mat-header-cell *matHeaderCellDef> Age </th>
    <td mat-cell *matCellDef="let element"> {{element.age}} </td>
  </ng-container>

  <ng-container matColumnDef="artCategory">
    <th mat-header-cell *matHeaderCellDef> Art Category </th>
    <td mat-cell *matCellDef="let element"> {{element.art_category}} </td>
  </ng-container>

  <ng-container matColumnDef="artForm">
    <th mat-header-cell *matHeaderCellDef> Art Form </th>
    <td mat-cell *matCellDef="let element"> {{element.art_form}} </td>
  </ng-container>

  <ng-container matColumnDef="compCategory">
    <th mat-header-cell *matHeaderCellDef> Competional Category </th>
    <td mat-cell *matCellDef="let element"> {{element.comp_category}} </td>
  </ng-container>

  <ng-container matColumnDef="compLevel">
    <th mat-header-cell *matHeaderCellDef> Competional Level </th>
    <td mat-cell *matCellDef="let element"> {{element.comp_level}} </td>
  </ng-container>

  <ng-container matColumnDef="picture">
    <th mat-header-cell *matHeaderCellDef> Profile Picture </th>
    <td mat-cell *matCellDef="let element"> &nbsp; &nbsp; &nbsp;<img width=50 height=50 src={{element.profile_pic}} />
    </td>
  </ng-container>
  <ng-container matColumnDef="action">
    <th mat-header-cell *matHeaderCellDef> Action </th>
    <td mat-cell *matCellDef="let element"> <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#exampleModalCenter" (click)="view(element)">
     View
    </button>
    </td>
  </ng-container>  

  <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
  <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
</table>
<mat-paginator [pageSize]="10">
</mat-paginator>


 
<div class="modal fade" id="exampleModalCenter" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterjudgeName" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-judgeName" id="exampleModalLongjudgeName">Modal judgeName</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <!-- <div class="video">            
           <iframe width="100%" height="100%"  [src]="getSantizeUrl(videourl)" allowfullscreen="true" webkitallowfullscreen="true" mozallowfullscreen="true"></iframe> 
        </div> -->
        <button type="button" class="btn btn-success">
          <a href="{{videourl}}" target="_blank">Play Video</a>
        </button>
        <div class="card-body">
          <form [formGroup]="markForm" (ngSubmit)="onSubmit()">
            <div class="form-row">
                <div class="form-group col">
                    <label>judgeName</label>
                    <select formControlName="judgeName" class="form-control" [ngClass]="{ 'is-invalid': submitted && f.judgeName.errors }">
                        <option *ngFor="let x of  judgesdata"[ngValue]="x.id">{{x.name}}</option>                        
                    </select>
                    <div *ngIf="submitted && f.judgeName.errors" class="invalid-feedback">
                        <div *ngIf="f.judgeName.errors.required">Judge Name is required</div>
                    </div>
                </div>
                <div class="form-group col-5">
                    <label>Mark</label>
                    <input type="text" formControlName="mark" class="form-control" [ngClass]="{ 'is-invalid': submitted && f.mark.errors }" />
                    <div *ngIf="submitted && f.mark.errors" class="invalid-feedback">
                        <div *ngIf="f.mark.errors.required">Mark is required</div>
                    </div>
                </div>
             
            </div>                            
            <div class="text-center">
                <button class="btn btn-primary mr-1">Register</button>
                <button class="btn btn-secondary" type="reset" (click)="onReset()">Cancel</button>
            </div>
        </form>
      </div>
   
    </div>
  </div>
</div>