{"ast":null,"code":"import Swal from 'sweetalert2';\nimport { prizeDetails } from './prize-distribution';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../online-registration/online-registration.service\";\nimport * as i2 from \"ngx-toastr\";\nimport * as i3 from \"@angular/forms\";\nimport * as i4 from \"@angular/common\";\n\nfunction PrizeDistributionComponent_span_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 14);\n    i0.ɵɵtext(1, \" is required\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction PrizeDistributionComponent_div_18_span_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 14);\n    i0.ɵɵtext(1, \" is required\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction PrizeDistributionComponent_div_18_span_15_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 14);\n    i0.ɵɵtext(1, \" is required\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction PrizeDistributionComponent_div_18_div_24_span_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 14);\n    i0.ɵɵtext(1, \" is required\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction PrizeDistributionComponent_div_18_div_24_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r13 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\")(1, \"div\", 6)(2, \"label\", 7);\n    i0.ɵɵtext(3, \"* Enter Delivery address to receive prize/certificate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(4, PrizeDistributionComponent_div_18_div_24_span_4_Template, 2, 0, \"span\", 8);\n    i0.ɵɵelementStart(5, \"textarea\", 25, 26);\n    i0.ɵɵlistener(\"ngModelChange\", function PrizeDistributionComponent_div_18_div_24_Template_textarea_ngModelChange_5_listener($event) {\n      i0.ɵɵrestoreView(_r13);\n      const ctx_r12 = i0.ɵɵnextContext(2);\n      return ctx_r12.model.deliveryaddress = $event;\n    });\n    i0.ɵɵelementEnd()()();\n  }\n\n  if (rf & 2) {\n    const _r11 = i0.ɵɵreference(6);\n\n    const ctx_r9 = i0.ɵɵnextContext(2);\n\n    const _r0 = i0.ɵɵreference(3);\n\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngIf\", _r11.invalid && (_r11.touched || _r0.submitted));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngModel\", ctx_r9.model.deliveryaddress);\n  }\n}\n\nfunction PrizeDistributionComponent_div_18_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r15 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\")(1, \"div\", 6)(2, \"label\", 7);\n    i0.ɵɵtext(3, \"* Name\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"input\", 15, 16);\n    i0.ɵɵlistener(\"ngModelChange\", function PrizeDistributionComponent_div_18_Template_input_ngModelChange_4_listener($event) {\n      i0.ɵɵrestoreView(_r15);\n      const ctx_r14 = i0.ɵɵnextContext();\n      return ctx_r14.model.name = $event;\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(6, \"div\", 6)(7, \"label\", 7);\n    i0.ɵɵtext(8, \"* Name On Certificate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(9, PrizeDistributionComponent_div_18_span_9_Template, 2, 0, \"span\", 8);\n    i0.ɵɵelementStart(10, \"input\", 17, 18);\n    i0.ɵɵlistener(\"ngModelChange\", function PrizeDistributionComponent_div_18_Template_input_ngModelChange_10_listener($event) {\n      i0.ɵɵrestoreView(_r15);\n      const ctx_r16 = i0.ɵɵnextContext();\n      return ctx_r16.model.certificate_name = $event;\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(12, \"div\", 6)(13, \"label\", 7);\n    i0.ɵɵtext(14, \"* Are you attending the festival to collect prize/certificate ?\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(15, PrizeDistributionComponent_div_18_span_15_Template, 2, 0, \"span\", 8);\n    i0.ɵɵelementStart(16, \"select\", 19, 20);\n    i0.ɵɵlistener(\"ngModelChange\", function PrizeDistributionComponent_div_18_Template_select_ngModelChange_16_listener($event) {\n      i0.ɵɵrestoreView(_r15);\n      const ctx_r17 = i0.ɵɵnextContext();\n      return ctx_r17.model.attendence = $event;\n    })(\"change\", function PrizeDistributionComponent_div_18_Template_select_change_16_listener($event) {\n      i0.ɵɵrestoreView(_r15);\n      const ctx_r18 = i0.ɵɵnextContext();\n      return ctx_r18.changedetails($event);\n    });\n    i0.ɵɵelementStart(18, \"option\", 21);\n    i0.ɵɵtext(19, \"Select attending the festival to collect prize/certificate \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(20, \"option\", 22);\n    i0.ɵɵtext(21, \"Yes\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(22, \"option\", 23);\n    i0.ɵɵtext(23, \"No\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵtemplate(24, PrizeDistributionComponent_div_18_div_24_Template, 7, 2, \"div\", 13);\n    i0.ɵɵelementStart(25, \"div\", 24)(26, \"button\", 12);\n    i0.ɵɵlistener(\"click\", function PrizeDistributionComponent_div_18_Template_button_click_26_listener() {\n      i0.ɵɵrestoreView(_r15);\n      const ctx_r19 = i0.ɵɵnextContext();\n\n      const _r0 = i0.ɵɵreference(3);\n\n      return ctx_r19.submit(_r0);\n    });\n    i0.ɵɵtext(27, \"Submit\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(28, \"br\")(29, \"br\");\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const _r6 = i0.ɵɵreference(11);\n\n    const _r8 = i0.ɵɵreference(17);\n\n    const ctx_r3 = i0.ɵɵnextContext();\n\n    const _r0 = i0.ɵɵreference(3);\n\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngModel\", ctx_r3.model.name);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngIf\", _r6.invalid && (_r6.touched || _r0.submitted));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngModel\", ctx_r3.model.certificate_name);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngIf\", _r8.invalid && (_r8.touched || _r0.submitted));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngModel\", ctx_r3.model.attendence);\n    i0.ɵɵadvance(8);\n    i0.ɵɵproperty(\"ngIf\", ctx_r3.address);\n  }\n}\n\nexport let PrizeDistributionComponent = /*#__PURE__*/(() => {\n  class PrizeDistributionComponent {\n    constructor(onlineRegistration, toastr) {\n      this.onlineRegistration = onlineRegistration;\n      this.toastr = toastr;\n      this.submitted1 = false;\n      this.submitted = false;\n      this.model = new prizeDetails();\n      this.address = false;\n      this.getdetailsShow = false;\n    }\n\n    ngOnInit() {\n      this.submitted = false;\n    }\n\n    getDetails() {\n      this.submitted = true;\n      console.log(this.model.regId);\n\n      if (this.model.regId === undefined) {\n        return;\n      }\n\n      this.onlineRegistration.getDetails(this.model.regId).subscribe(res => {\n        console.log(res['primary'].length, \"leljrk\");\n\n        if (res['primary'].length > 0) {\n          this.model.name = res['primary'][0].name;\n          this.getdetailsShow = true;\n        } else {\n          this.model.name = '';\n          this.regIdmessage = 'Please Enter Valid Registration Id';\n          this.model.regId = '';\n          this.toastr.error('Please Enter Valid Id');\n        }\n      });\n    }\n\n    changedetails(event) {\n      this.address = event.target.value === 'no' ? true : false;\n    }\n\n    submit(prizeForm) {\n      this.submitted = true;\n\n      if (prizeForm.invalid) {\n        return;\n      }\n\n      const data = {\n        'id': this.model.regId,\n        'attendance': this.model.attendence,\n        'delivery_address': this.model.deliveryaddress,\n        'certificate_name': this.model.certificate_name\n      };\n      this.onlineRegistration.updateEvents(data).subscribe(res => {\n        if (!res) {// this.toastr.error(res.status.message);\n        } else {\n          Swal.fire({\n            icon: \"success\",\n            title: `You have successfully Submitted `,\n            showConfirmButton: true\n          }).then(suuess => {\n            prizeForm.reset();\n            this.submitted = false;\n            this.model.regId = undefined;\n            this.model.attendence = undefined;\n            this.model.deliveryaddress = undefined;\n            window.location.reload();\n          });\n        }\n      });\n    }\n\n  }\n\n  PrizeDistributionComponent.ɵfac = function PrizeDistributionComponent_Factory(t) {\n    return new (t || PrizeDistributionComponent)(i0.ɵɵdirectiveInject(i1.OnlineRegistrationService), i0.ɵɵdirectiveInject(i2.ToastrService));\n  };\n\n  PrizeDistributionComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: PrizeDistributionComponent,\n    selectors: [[\"app-prize-distribution\"]],\n    decls: 19,\n    vars: 3,\n    consts: [[1, \"hs-item\", \"image\", \"bg\", \"print\"], [1, \"container\"], [\"prizeForm\", \"ngForm\"], [2, \"text-align\", \"center\", \"color\", \"white\"], [1, \"row\", \"prize\"], [1, \"col\"], [1, \"form-group\"], [2, \"font-size\", \"medium\"], [\"style\", \"color:red\", 4, \"ngIf\"], [\"type\", \"text\", \"name\", \"regId\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"regid\", \"ngModel\"], [1, \"col\", \"details\"], [\"type\", \"submit\", 1, \"btn\", \"btn-success\", 3, \"click\"], [4, \"ngIf\"], [2, \"color\", \"red\"], [\"type\", \"text\", \"id\", \"regId\", \"name\", \"name\", \"required\", \"\", \"disabled\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"regname\", \"ngModel\"], [\"type\", \"text\", \"id\", \"regId\", \"name\", \"certificate_name\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"regcertificate_name\", \"ngModel\"], [\"name\", \"attendence\", \"placeholder\", \"Select attending the festival to collect\\n                        prize/certificate\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\", \"change\"], [\"attendencedata\", \"ngModel\"], [\"value\", \"\", \"selected\", \"\"], [\"value\", \"yes\"], [\"value\", \"no\"], [1, \"wrapper\"], [\"type\", \"text\", \"name\", \"deliveryaddress\", \"rows\", \"6\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"regaddress\", \"ngModel\"]],\n    template: function PrizeDistributionComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"form\", null, 2);\n        i0.ɵɵelement(4, \"br\");\n        i0.ɵɵelementStart(5, \"h1\", 3);\n        i0.ɵɵtext(6, \"Prize Distribution\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(7, \"div\", 4)(8, \"div\", 5)(9, \"div\", 6)(10, \"label\", 7);\n        i0.ɵɵtext(11, \"* Reg Id\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(12, PrizeDistributionComponent_span_12_Template, 2, 0, \"span\", 8);\n        i0.ɵɵelementStart(13, \"input\", 9, 10);\n        i0.ɵɵlistener(\"ngModelChange\", function PrizeDistributionComponent_Template_input_ngModelChange_13_listener($event) {\n          return ctx.model.regId = $event;\n        });\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(15, \"div\", 11)(16, \"button\", 12);\n        i0.ɵɵlistener(\"click\", function PrizeDistributionComponent_Template_button_click_16_listener() {\n          return ctx.getDetails();\n        });\n        i0.ɵɵtext(17, \"Get Details\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵtemplate(18, PrizeDistributionComponent_div_18_Template, 30, 6, \"div\", 13);\n        i0.ɵɵelementEnd()()();\n      }\n\n      if (rf & 2) {\n        const _r0 = i0.ɵɵreference(3);\n\n        const _r2 = i0.ɵɵreference(14);\n\n        i0.ɵɵadvance(12);\n        i0.ɵɵproperty(\"ngIf\", _r2.invalid && (_r2.touched || _r0.submitted));\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngModel\", ctx.model.regId);\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"ngIf\", ctx.getdetailsShow);\n      }\n    },\n    directives: [i3.ɵNgNoValidate, i3.NgControlStatusGroup, i3.NgForm, i4.NgIf, i3.DefaultValueAccessor, i3.RequiredValidator, i3.NgControlStatus, i3.NgModel, i3.SelectControlValueAccessor, i3.NgSelectOption, i3.ɵNgSelectMultipleOption],\n    styles: [\"form[_ngcontent-%COMP%]{padding-left:106px;padding-right:106px;background-color:#000;opacity:.8;margin-top:70px}label[_ngcontent-%COMP%]{color:#fff}input[_ngcontent-%COMP%]:not([type]), input[type=text][_ngcontent-%COMP%]:not(.browser-default), input[type=password][_ngcontent-%COMP%]:not(.browser-default), input[type=email][_ngcontent-%COMP%]:not(.browser-default), textarea.materialize-textarea[_ngcontent-%COMP%]{font-size:1.5rem;padding-left:10px}input[_ngcontent-%COMP%]{background:white!important;color:#000!important}.details[_ngcontent-%COMP%]{margin:10px 0;padding:15px 15px 0}.prize[_ngcontent-%COMP%]{margin-bottom:0!important}.hs-item[_ngcontent-%COMP%]{background-repeat:no-repeat;background-size:cover;background-image:url(https://storage.needpix.com/rsynced_images/background-2203989_1280.jpg)}@media screen and (max-width: 600px){.container[_ngcontent-%COMP%]   .hs-item[_ngcontent-%COMP%]{width:100%;margin-top:0}form[_ngcontent-%COMP%]{padding-left:4%;padding-right:7%;background-color:#000;opacity:.8;margin-top:35%;margin-bottom:13%}.hs-item[_ngcontent-%COMP%]{background-repeat:no-repeat;background-size:cover;background-image:url(https://storage.needpix.com/rsynced_images/background-2203989_1280.jpg)}}\"]\n  });\n  return PrizeDistributionComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}