{"ast":null,"code":"import { Validators } from '@angular/forms';\nimport Swal from 'sweetalert2';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"./upload-winnings.service\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"ngx-toastr\";\nimport * as i5 from \"@angular/common\";\nimport * as i6 from \"ngx-uploadcare-widget\";\n\nfunction UploadWinningsComponent_span_18_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 19);\n    i0.ɵɵtext(1, \"\\u00A0 Required\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction UploadWinningsComponent_span_24_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 19);\n    i0.ɵɵtext(1, \"\\u00A0 Required\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction UploadWinningsComponent_span_30_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 19);\n    i0.ɵɵtext(1, \"\\u00A0 Required\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nexport let UploadWinningsComponent = /*#__PURE__*/(() => {\n  class UploadWinningsComponent {\n    constructor(fb, uploadService, router, toastrService) {\n      this.fb = fb;\n      this.uploadService = uploadService;\n      this.router = router;\n      this.toastrService = toastrService;\n      this.submitted = false;\n    }\n\n    ngOnInit() {\n      this.buildForm();\n    }\n\n    buildForm() {\n      this.winningsForm = this.fb.group({\n        id: [\"\", Validators.required],\n        name: [\"\", Validators.required]\n      });\n    }\n\n    yourOnUploadHandler(event) {\n      this.winningUrl = event.cdnUrl;\n    }\n\n    submitForm() {\n      this.submitted = true;\n\n      if (this.winningsForm.invalid || !this.winningUrl) {\n        return;\n      }\n\n      const object = {\n        winningurl: this.winningUrl,\n        id: this.winningsForm.value['id'],\n        name: this.winningsForm.value['name']\n      };\n      this.uploadService.postUploadWinnings(object).subscribe(res => {\n        if (res === null || res === void 0 ? void 0 : res.message) {\n          if (res.message == 'success') {\n            Swal.fire({\n              icon: \"success\",\n              title: \"You have successfully submitted your photo\",\n              showConfirmButton: true\n            }).then(suuess => {\n              this.winningsForm.reset();\n              window.location.reload();\n            });\n          } else if (res.message == 'Not Found') {\n            this.toastrService.error('Sorry! Your ID not found', 'Error');\n          } else {\n            this.toastrService.error('Something Went Wrong!');\n          }\n        }\n      });\n    }\n\n    get f() {\n      return this.winningsForm.controls;\n    }\n\n  }\n\n  UploadWinningsComponent.ɵfac = function UploadWinningsComponent_Factory(t) {\n    return new (t || UploadWinningsComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.UploadWinningsService), i0.ɵɵdirectiveInject(i3.Router), i0.ɵɵdirectiveInject(i4.ToastrService));\n  };\n\n  UploadWinningsComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: UploadWinningsComponent,\n    selectors: [[\"app-upload-winnings\"]],\n    decls: 39,\n    vars: 4,\n    consts: [[1, \"hs-item\", \"image\", \"bg\", \"print\"], [1, \"container\"], [3, \"formGroup\"], [2, \"text-align\", \"center\", \"color\", \"white\"], [\"behavior\", \"scroll\", \"onmouseover\", \"this.stop();\", \"onmouseout\", \"this.start();\", \"direction\", \"left\", \"scrollamount\", \"7\", 2, \"color\", \"red\", \"font-size\", \"large\", \"font-weight\", \"bold\"], [1, \"row\"], [1, \"col-md-12\", 2, \"float\", \"left\"], [2, \"float\", \"left\"], [\"width\", \"140\", \"height\", \"150\", \"src\", \"../../assets/images/winner.png\", \"alt\", \"\", 2, \"float\", \"left\"], [1, \"col-md-12\"], [1, \"form-group\"], [2, \"font-size\", \"medium\", \"float\", \"left\"], [\"style\", \"color:red\", 4, \"ngIf\"], [\"type\", \"text\", \"id\", \"id\", \"formControlName\", \"id\", 1, \"form-control\"], [\"type\", \"text\", \"id\", \"name\", \"formControlName\", \"name\", 1, \"form-control\"], [2, \"font-size\", \"medium\", \"float\", \"left\", \"text-align\", \"left\"], [\"data-crop\", \"3:4\", \"public-key\", \"786c3b03d6095e0a34f3\", \"images-only\", \"true\", 2, \"float\", \"left\", 3, \"on-upload-complete\"], [1, \"wrapper\"], [\"type\", \"submit\", 1, \"btn\", \"btn-success\", 3, \"click\"], [2, \"color\", \"red\"]],\n    template: function UploadWinningsComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"form\", 2)(3, \"div\", 3)(4, \"h1\");\n        i0.ɵɵtext(5, \"UPLOAD WINNER PHOTOS\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(6, \"br\");\n        i0.ɵɵelementStart(7, \"marquee\", 4);\n        i0.ɵɵtext(8, \" Upload your photo along with Certificate & Medal (Plain Green background is preffered) \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(9, \"div\", 5)(10, \"div\", 6)(11, \"b\", 7);\n        i0.ɵɵtext(12, \"Example : \\u00A0\\u00A0\\u00A0\\u00A0\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(13, \"img\", 8);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(14, \"div\", 9)(15, \"div\", 10)(16, \"label\", 11);\n        i0.ɵɵtext(17, \"Participant Id \");\n        i0.ɵɵtemplate(18, UploadWinningsComponent_span_18_Template, 2, 0, \"span\", 12);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(19, \"input\", 13);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(20, \"div\", 9)(21, \"div\", 10)(22, \"label\", 11);\n        i0.ɵɵtext(23, \"Participant Name \");\n        i0.ɵɵtemplate(24, UploadWinningsComponent_span_24_Template, 2, 0, \"span\", 12);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(25, \"input\", 14);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(26, \"div\", 9)(27, \"div\", 10)(28, \"label\", 15);\n        i0.ɵɵtext(29, \"Please upload your photo with certificate & medal (Plain Green background is preferred) \\u00A0\\u00A0\\u00A0 \");\n        i0.ɵɵtemplate(30, UploadWinningsComponent_span_30_Template, 2, 0, \"span\", 12);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(31, \"div\", 7)(32, \"ngx-uploadcare-widget\", 16);\n        i0.ɵɵlistener(\"on-upload-complete\", function UploadWinningsComponent_Template_ngx_uploadcare_widget_on_upload_complete_32_listener($event) {\n          return ctx.yourOnUploadHandler($event);\n        });\n        i0.ɵɵelementEnd()()()()();\n        i0.ɵɵelementStart(33, \"div\", 17)(34, \"button\", 18);\n        i0.ɵɵlistener(\"click\", function UploadWinningsComponent_Template_button_click_34_listener() {\n          return ctx.submitForm();\n        });\n        i0.ɵɵtext(35, \"Submit\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(36, \"br\")(37, \"br\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelement(38, \"br\");\n        i0.ɵɵelementEnd()()();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"formGroup\", ctx.winningsForm);\n        i0.ɵɵadvance(16);\n        i0.ɵɵproperty(\"ngIf\", ctx.submitted && (ctx.f.id.errors == null ? null : ctx.f.id.errors.required));\n        i0.ɵɵadvance(6);\n        i0.ɵɵproperty(\"ngIf\", ctx.submitted && (ctx.f.name.errors == null ? null : ctx.f.name.errors.required));\n        i0.ɵɵadvance(6);\n        i0.ɵɵproperty(\"ngIf\", ctx.submitted && !ctx.winningUrl);\n      }\n    },\n    directives: [i1.ɵNgNoValidate, i1.NgControlStatusGroup, i1.FormGroupDirective, i5.NgIf, i1.DefaultValueAccessor, i1.NgControlStatus, i1.FormControlName, i6.UcWidgetComponent],\n    styles: [\".hs-item[_ngcontent-%COMP%]{background-repeat:no-repeat;background-size:cover;background-image:url(https://storage.needpix.com/rsynced_images/background-2203989_1280.jpg)}form[_ngcontent-%COMP%]{padding-top:1%;padding-left:106px;padding-right:106px;background-color:#000;opacity:.8;margin-top:70px}label[_ngcontent-%COMP%]{color:#fff}input[_ngcontent-%COMP%]:not([type]), input[type=text][_ngcontent-%COMP%]:not(.browser-default), input[type=password][_ngcontent-%COMP%]:not(.browser-default), input[type=email][_ngcontent-%COMP%]:not(.browser-default), textarea.materialize-textarea[_ngcontent-%COMP%]{font-size:1.5rem;padding-left:10px}input[_ngcontent-%COMP%]{background:white!important;color:#000!important}.details[_ngcontent-%COMP%]{margin:10px 0;padding:15px 15px 0}.prize[_ngcontent-%COMP%]{margin-bottom:0!important}@media screen and (max-width: 600px){.container[_ngcontent-%COMP%]   .hs-item[_ngcontent-%COMP%]{width:100%;margin-top:0}form[_ngcontent-%COMP%]{padding-left:4%;padding-right:7%;background-color:#000;opacity:.8;margin-top:35%;margin-bottom:13%}.hs-item[_ngcontent-%COMP%]{background-repeat:no-repeat;background-size:cover;background-image:url(https://storage.needpix.com/rsynced_images/background-2203989_1280.jpg)}}.close[_ngcontent-%COMP%]{width:auto;background:black}\"]\n  });\n  return UploadWinningsComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}